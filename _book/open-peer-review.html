<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 3 Open Peer Review | Portfolio</title>
<meta name="author" content="Lunar Eclipse">
<meta name="description" content="In the context of reproducibility it is very wise to ensure quality of products is kept high by analyzing and reviewing other peoples work. In due time recognizing bad transparency will become...">
<meta name="generator" content="bookdown 0.26 with bs4_book()">
<meta property="og:title" content="Chapter 3 Open Peer Review | Portfolio">
<meta property="og:type" content="book">
<meta property="og:description" content="In the context of reproducibility it is very wise to ensure quality of products is kept high by analyzing and reviewing other peoples work. In due time recognizing bad transparency will become...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 3 Open Peer Review | Portfolio">
<meta name="twitter:description" content="In the context of reproducibility it is very wise to ensure quality of products is kept high by analyzing and reviewing other peoples work. In due time recognizing bad transparency will become...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Portfolio</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Welcome!</a></li>
<li><a class="" href="example-analysis-c.-elegans-experiment.html"><span class="header-section-number">2</span> Example analysis C. Elegans experiment</a></li>
<li><a class="active" href="open-peer-review.html"><span class="header-section-number">3</span> Open Peer Review</a></li>
<li><a class="" href="guerrilla-analytics.html"><span class="header-section-number">4</span> Guerrilla Analytics</a></li>
<li><a class="" href="footnotes-and-citations.html"><span class="header-section-number">5</span> Footnotes and citations</a></li>
<li><a class="" href="blocks.html"><span class="header-section-number">6</span> Blocks</a></li>
<li><a class="" href="sharing-your-book.html"><span class="header-section-number">7</span> Sharing your book</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/LunarEclipse112/lunareclipse.github.io">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="open-peer-review" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> Open Peer Review<a class="anchor" aria-label="anchor" href="#open-peer-review"><i class="fas fa-link"></i></a>
</h1>
<p>In the context of reproducibility it is very wise to ensure quality of products is kept high by analyzing and reviewing other peoples work. In due time recognizing bad transparency will become easier and ones own work will improve.</p>
<div id="teaching-anxiety-stress-and-resilience-during-the-covid-19-pandemic" class="section level3" number="3.0.1">
<h3>
<span class="header-section-number">3.0.1</span> Teaching anxiety, stress and resilience during the COVID-19 pandemic<a class="anchor" aria-label="anchor" href="#teaching-anxiety-stress-and-resilience-during-the-covid-19-pandemic"><i class="fas fa-link"></i></a>
</h3>
<p>The first article selected for reviewing is about the teaching anxiety, stress and resilience during the COVID-19 pandemic.<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Juan Luis Delgado-Gallegos et al., &lt;span&gt;“Teaching &lt;span&gt;Anxiety&lt;/span&gt;, &lt;span&gt;Stress&lt;/span&gt; and &lt;span&gt;Resilience During&lt;/span&gt; the &lt;span&gt;COVID-19 Pandemic&lt;/span&gt;: &lt;span&gt;Evaluating&lt;/span&gt; the &lt;span&gt;Vulnerability&lt;/span&gt; of &lt;span&gt;Academic Professionals&lt;/span&gt; in &lt;span&gt;Mexico Through&lt;/span&gt; the &lt;span&gt;Adapted COVID-19 Stress Scales&lt;/span&gt;,”&lt;/span&gt; &lt;em&gt;Front. Public Health&lt;/em&gt; 9 (May 2021): 669057, &lt;a href="https://doi.org/10.3389/fpubh.2021.669057" role="doc-biblioref"&gt;https://doi.org/10.3389/fpubh.2021.669057&lt;/a&gt;.&lt;/p&gt;'><sup>1</sup></a></span></p>
<p>It is an article that looks at the psychological changes among teachers that have changed from a school attending curriculum to a virtual classroom model following restrictions on face to face meeting due to the pandemic quarantine.</p>
<p>We will start by scoring the article based on a rubric which determines reproducibility and will allow for a quick overview.</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="5%">
<col width="47%">
<col width="3%">
<col width="43%">
</colgroup>
<thead><tr class="header">
<th align="left">Transparency Criteria</th>
<th align="left">Definition</th>
<th align="left">Response Type</th>
<th align="left">Score</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Study Purpose</td>
<td align="left">A concise statement in the introduction of the article, often in the last paragraph, that establishes the reason the research was conducted. Also called the study objective</td>
<td align="left">Binary</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">Data Availability Statement</td>
<td align="left">A statement, in an individual section offset from the main body of text, that explains how or if one can access a study’s data. The title of the section may vary, but it must explicitly mention data; it is therefore distinct from a supplementary materials section</td>
<td align="left">Binary</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Data Location</td>
<td align="left">Where the article’s data can be accessed, either raw or processed</td>
<td align="left">Found Value</td>
<td align="left">TRUE. All data can be downloaded from the article linked in the Data availability Statement</td>
</tr>
<tr class="even">
<td align="left">Study Location</td>
<td align="left">Author has stated in the methods section where the study took place or the data’s country/region of origin</td>
<td align="left">Binary; Found Value</td>
<td align="left">TRUE. The study origin is Mexico but there isn’t a clear location of the study location mentioned in the first paragraph of the Materials an Methods section of the article but it can be found under Author information</td>
</tr>
<tr class="odd">
<td align="left">Author Review</td>
<td align="left">The professionalism of the contact information that the author has provided in the manuscript</td>
<td align="left">Found Value</td>
<td align="left">TRUE. Contact info can be found under Author information</td>
</tr>
<tr class="even">
<td align="left">Ethics Statement</td>
<td align="left">A statement within the manuscript indicating any ethical concerns, including the presence of sensitive data</td>
<td align="left">Binary</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Funding Statement</td>
<td align="left">A statement within the manuscript indicating whether or not the authors received funding for their research</td>
<td align="left">Binary</td>
<td align="left">TRUE. The research was conducted in the absence of any commercial or financial relationships</td>
</tr>
<tr class="even">
<td align="left">Code Availability</td>
<td align="left">Authors have shared access to the most updated code that they used in their study, including code used for analysis</td>
<td align="left">Binary</td>
<td align="left">FALSE. Although the analysis methods are listed in the files there is no code listed with which the analysis was done. I suspect SPSS was used and the results from there where simply copied in to Excel to create the figures shown in the results</td>
</tr>
</tbody>
</table></div>
<p>Reviewing the rubric shows us the article is very professional overall. Their data supplied allows for later testing for reproducibility. Although to actually check for reproducibility we will need to write code to run the same analysis they did and check for any variances in the results, Because of this we can’t fully conclude the article in question is fully reproducible. If code was supplied this article would have been a beautiful example of reproducible research.</p>
</div>
<div id="monitoring-trends-and-differences-in-covid-19-case-fatality-rates-using-decomposition-methods-contributions-of-age-structure-and-age-specific-fatality" class="section level3" number="3.0.2">
<h3>
<span class="header-section-number">3.0.2</span> Monitoring trends and differences in COVID-19 case-fatality rates using decomposition methods: Contributions of age structure and age-specific fatality<a class="anchor" aria-label="anchor" href="#monitoring-trends-and-differences-in-covid-19-case-fatality-rates-using-decomposition-methods-contributions-of-age-structure-and-age-specific-fatality"><i class="fas fa-link"></i></a>
</h3>
<p>Now we are going to look at the code from an article that does qualify for reproducible research. The next paper is about Monitoring trends and differences in COVID-19 case-fatality rates using decomposition methods: Contributions of age structure and age-specific fatality.<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Christian Dudel et al., &lt;span&gt;“Monitoring Trends and Differences in &lt;span&gt;COVID-19&lt;/span&gt; Case- Fatality Rates Using Decomposition Methods: &lt;span&gt;Contributions&lt;/span&gt; of Age Structure and Age-Specific Fatality,”&lt;/span&gt; n.d., 20.&lt;/p&gt;"><sup>2</sup></a></span></p>
<p>First lets score the article in question using the same rubric as before:</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="6%">
<col width="65%">
<col width="4%">
<col width="22%">
</colgroup>
<thead><tr class="header">
<th align="left">Transparency Criteria</th>
<th align="left">Definition</th>
<th align="left">Response Type</th>
<th align="left">Score</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Study Purpose</td>
<td align="left">A concise statement in the introduction of the article, often in the last paragraph, that establishes the reason the research was conducted. Also called the study objective</td>
<td align="left">Binary</td>
<td align="left">TRUE. Although not the last paragraph</td>
</tr>
<tr class="even">
<td align="left">Data Availability Statement</td>
<td align="left">A statement, in an individual section offset from the main body of text, that explains how or if one can access a study’s data. The title of the section may vary, but it must explicitly mention data; it is therefore distinct from a supplementary materials section</td>
<td align="left">Binary</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Data Location</td>
<td align="left">Where the article’s data can be accessed, either raw or processed</td>
<td align="left">Found Value</td>
<td align="left">TRUE. All data can be downloaded from the article linked in the Data availability Statement</td>
</tr>
<tr class="even">
<td align="left">Study Location</td>
<td align="left">Author has stated in the methods section where the study took place or the data’s country/region of origin</td>
<td align="left">Binary; Found Value</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">Author Review</td>
<td align="left">The professionalism of the contact information that the author has provided in the manuscript</td>
<td align="left">Found Value</td>
<td align="left">TRUE. Contact info can be found on the front page</td>
</tr>
<tr class="even">
<td align="left">Ethics Statement</td>
<td align="left">A statement within the manuscript indicating any ethical concerns, including the presence of sensitive data</td>
<td align="left">Binary</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Funding Statement</td>
<td align="left">A statement within the manuscript indicating whether or not the authors received funding for their research</td>
<td align="left">Binary</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Code Availability</td>
<td align="left">Authors have shared access to the most updated code that they used in their study, including code used for analysis</td>
<td align="left">Binary</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table></div>
<p>What sets this article apart from the previous one is the possibility to look at the code used to produce the results from the raw data. All the raw data links and exact code is supplied with the article and thus allow for an <em>easy</em> reproduction of the research done. It is important to note however that the article doesn’t score perfectly on the rubric as seen above.</p>
<p>The code is found under the R file name and is distributed based on the function of the code in a few different scripts. The scripts are easy to read and very clear on the function. Every section has well defined borders and has short but clear comments on what the purpose of the chunk is. I would rate this code a 4/5 on first inspection. The only reason I don’t give it a full score is personal preference. I would prefer the different scripts to be simply in one script that is easy to run instead of reloading the data over and over again and having to change it every time, but that’s just me.</p>
<p>The first script (00_functions.R) defines a few custom functions: one to summarises some data and another function to compare case fatality rates and the age distribution between two groups.
The second code file (01_input.R) loads in the raw data, adds a column (i see a mutate() function being used), filters it and transfers it to a new .csv file for later usage.
The third script (02_analysis.R) modifies the data a bit more and runs some basic analysis on it.</p>
<p>I won’t go in to more detail about the other scripts as analysis of the research is not the purpose of this open peer review fragment. I will however try to reproduce a small portion of it in the following segment. Any changes to the code will be recorded as comments.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">### Packages ##################################################################</span>

  <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/slowkow/ggrepel">ggrepel</a></span><span class="op">)</span>
  <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org">scales</a></span><span class="op">)</span>

<span class="co">### Load data #################################################################</span>

  <span class="co"># Load data</span>
  <span class="va">db_gh</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"./data/inputdata.csv"</span><span class="op">)</span><span class="op">)</span>
  <span class="co">##### Small change to the location of the file so i can run it properly</span>

<span class="co">### Aggregate data ############################################################</span>

  <span class="co"># Filter date</span>
  <span class="va">db_gh</span><span class="op">$</span><span class="va">Date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="va">db_gh</span><span class="op">$</span><span class="va">Date</span>,<span class="st">"%d.%m.%y"</span><span class="op">)</span>
  <span class="va">db_gh2</span> <span class="op">&lt;-</span> <span class="va">db_gh</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span><span class="op">&lt;=</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"30.06.2020"</span>,<span class="st">"%d.%m.%y"</span><span class="op">)</span><span class="op">)</span>
  
  <span class="co"># Set New York as "country" (easier handling)</span>
  <span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">[</span><span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">==</span><span class="st">"USA"</span> <span class="op">&amp;</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Region</span> <span class="op">==</span> <span class="st">"NYC"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"NYC"</span>
  
  <span class="co"># Sum data over age groups</span>
  <span class="va">db_gh2</span> <span class="op">&lt;-</span> <span class="va">db_gh2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">Country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"China"</span>,<span class="st">"USA"</span>,<span class="st">"South Korea"</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">Sex</span> <span class="op">==</span> <span class="st">"b"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Country</span>, <span class="va">Code</span>,<span class="va">Date</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>Cases <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">Cases</span><span class="op">)</span>,
              Deaths <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">Deaths</span><span class="op">)</span><span class="op">)</span>

  <span class="co"># Exclude bolletino </span>
  <span class="va">db_gh2</span> <span class="op">&lt;-</span> <span class="va">db_gh2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="va">Code</span>, <span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span> <span class="op">!=</span> <span class="st">"ITbol"</span><span class="op">)</span>
  
  <span class="co"># Sort by date</span>
  <span class="va">db_gh2</span> <span class="op">&lt;-</span> <span class="va">db_gh2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span>
  
  <span class="co"># Smooth reporting issues cases</span>
  <span class="kw">for</span><span class="op">(</span><span class="va">country</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    
    <span class="va">days</span> <span class="op">&lt;-</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Date</span><span class="op">[</span><span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">==</span><span class="va">country</span><span class="op">]</span>
    
    <span class="kw">for</span><span class="op">(</span><span class="va">day</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">days</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
      <span class="va">current</span> <span class="op">&lt;-</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Cases</span><span class="op">[</span><span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">==</span><span class="va">country</span> <span class="op">&amp;</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Date</span><span class="op">==</span><span class="va">days</span><span class="op">[</span><span class="va">day</span><span class="op">]</span><span class="op">]</span>
      <span class="va">previous</span> <span class="op">&lt;-</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Cases</span><span class="op">[</span><span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">==</span><span class="va">country</span> <span class="op">&amp;</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Date</span><span class="op">==</span><span class="va">days</span><span class="op">[</span><span class="va">day</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
      
      <span class="kw">if</span><span class="op">(</span><span class="va">current</span><span class="op">&lt;</span><span class="va">previous</span><span class="op">)</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Cases</span><span class="op">[</span><span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">==</span><span class="va">country</span> <span class="op">&amp;</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Date</span><span class="op">==</span><span class="va">days</span><span class="op">[</span><span class="va">day</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">previous</span>
      
    <span class="op">}</span>
    
  <span class="op">}</span>

  <span class="co"># Smooth reporting issues deaths</span>
  <span class="kw">for</span><span class="op">(</span><span class="va">country</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    
    <span class="va">days</span> <span class="op">&lt;-</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Date</span><span class="op">[</span><span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">==</span><span class="va">country</span><span class="op">]</span>
    
    <span class="kw">for</span><span class="op">(</span><span class="va">day</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">days</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
      <span class="va">current</span> <span class="op">&lt;-</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Deaths</span><span class="op">[</span><span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">==</span><span class="va">country</span> <span class="op">&amp;</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Date</span><span class="op">==</span><span class="va">days</span><span class="op">[</span><span class="va">day</span><span class="op">]</span><span class="op">]</span>
      <span class="va">previous</span> <span class="op">&lt;-</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Deaths</span><span class="op">[</span><span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">==</span><span class="va">country</span> <span class="op">&amp;</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Date</span><span class="op">==</span><span class="va">days</span><span class="op">[</span><span class="va">day</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
      
      <span class="kw">if</span><span class="op">(</span><span class="va">current</span><span class="op">&lt;</span><span class="va">previous</span><span class="op">)</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Deaths</span><span class="op">[</span><span class="va">db_gh2</span><span class="op">$</span><span class="va">Country</span><span class="op">==</span><span class="va">country</span> <span class="op">&amp;</span> <span class="va">db_gh2</span><span class="op">$</span><span class="va">Date</span><span class="op">==</span><span class="va">days</span><span class="op">[</span><span class="va">day</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">previous</span>
      
    <span class="op">}</span>
    
  <span class="op">}</span>
  
<span class="co">### Plot settings #############################################################</span>

  <span class="co"># Set colors</span>
  <span class="va">col_country</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Germany"</span> <span class="op">=</span> <span class="st">"black"</span>,
                   <span class="st">"Italy"</span> <span class="op">=</span> <span class="st">"#2ca25f"</span>,
                   <span class="st">"NYC"</span><span class="op">=</span><span class="st">"#f0027f"</span>,
                   <span class="st">"Spain"</span><span class="op">=</span><span class="st">"#beaed4"</span>,
                   <span class="st">"South Korea"</span><span class="op">=</span><span class="st">"#fdc086"</span><span class="op">)</span><span class="co">#,</span>
                   <span class="co">#"USA"="#386cb0")</span>
  
  <span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"black"</span>,
            <span class="st">"#2ca25f"</span>,
            <span class="st">"#f0027f"</span>,
            <span class="st">"#beaed4"</span>,
            <span class="st">"#fdc086"</span><span class="op">)</span><span class="co">#,</span>
            <span class="co">#"#386cb0")</span>
  
  
  <span class="co"># Axis</span>
  <span class="va">labs</span> <span class="op">&lt;-</span> <span class="va">db_gh2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Cases</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">Cases</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Cases <span class="op">=</span> <span class="va">Cases</span> <span class="op">+</span> <span class="fl">3000</span><span class="op">)</span>
  
  <span class="co"># Including all reports</span>
  <span class="va">tx</span> <span class="op">&lt;-</span> <span class="fl">6</span>
  <span class="va">lim_x</span> <span class="op">&lt;-</span> <span class="fl">240000</span>

<span class="co">### Plot ######################################################################</span>

  <span class="va">db_gh2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">Cases</span>, <span class="va">Deaths</span>, col <span class="op">=</span> <span class="va">Country</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">1</span>, alpha <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">300000</span>, <span class="fl">50000</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">lim_x</span> <span class="op">+</span> <span class="fl">30000</span><span class="op">)</span>, labels <span class="op">=</span> <span class="va">comma</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">40000</span>, <span class="fl">5000</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">40000</span><span class="op">)</span>, labels <span class="op">=</span> <span class="va">comma</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"segment"</span>, x <span class="op">=</span> <span class="fl">0</span>, y <span class="op">=</span> <span class="fl">0</span>, xend <span class="op">=</span> <span class="va">lim_x</span>, yend <span class="op">=</span> <span class="va">lim_x</span> <span class="op">*</span> <span class="fl">.02</span>, colour <span class="op">=</span> <span class="st">"grey40"</span>, size <span class="op">=</span> <span class="fl">.5</span>, alpha <span class="op">=</span> <span class="fl">.3</span>, linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"segment"</span>, x <span class="op">=</span> <span class="fl">0</span>, y <span class="op">=</span> <span class="fl">0</span>, xend <span class="op">=</span> <span class="va">lim_x</span>, yend <span class="op">=</span> <span class="va">lim_x</span> <span class="op">*</span> <span class="fl">.05</span>, colour <span class="op">=</span> <span class="st">"grey40"</span>, size <span class="op">=</span> <span class="fl">.5</span>, alpha <span class="op">=</span> <span class="fl">.3</span>, linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"segment"</span>, x <span class="op">=</span> <span class="fl">0</span>, y <span class="op">=</span> <span class="fl">0</span>, xend <span class="op">=</span> <span class="va">lim_x</span>, yend <span class="op">=</span> <span class="va">lim_x</span> <span class="op">*</span> <span class="fl">.10</span>, colour <span class="op">=</span> <span class="st">"grey40"</span>, size <span class="op">=</span> <span class="fl">.5</span>, alpha <span class="op">=</span> <span class="fl">.3</span>, linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"segment"</span>, x <span class="op">=</span> <span class="fl">0</span>, y <span class="op">=</span> <span class="fl">0</span>, xend <span class="op">=</span> <span class="va">lim_x</span>, yend <span class="op">=</span> <span class="va">lim_x</span> <span class="op">*</span> <span class="fl">.15</span>, colour <span class="op">=</span> <span class="st">"grey40"</span>, size <span class="op">=</span> <span class="fl">.5</span>, alpha <span class="op">=</span> <span class="fl">.3</span>, linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, label <span class="op">=</span> <span class="st">"2% CFR"</span>, x <span class="op">=</span> <span class="va">lim_x</span> <span class="op">+</span> <span class="fl">1000</span>, y <span class="op">=</span> <span class="va">lim_x</span> <span class="op">*</span> <span class="fl">.02</span>,
             color<span class="op">=</span><span class="st">"grey30"</span>, size <span class="op">=</span> <span class="va">tx</span> <span class="op">*</span> <span class="fl">.3</span>, alpha <span class="op">=</span> <span class="fl">.6</span>, hjust <span class="op">=</span> <span class="fl">0</span>, lineheight <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, label <span class="op">=</span> <span class="st">"5% CFR"</span>, x <span class="op">=</span> <span class="va">lim_x</span> <span class="op">+</span> <span class="fl">1000</span>, y <span class="op">=</span> <span class="va">lim_x</span> <span class="op">*</span> <span class="fl">.05</span>,
             color<span class="op">=</span><span class="st">"grey30"</span>, size <span class="op">=</span> <span class="va">tx</span> <span class="op">*</span> <span class="fl">.3</span>, alpha <span class="op">=</span> <span class="fl">.6</span>, hjust <span class="op">=</span> <span class="fl">0</span>, lineheight <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, label <span class="op">=</span> <span class="st">"10% CFR"</span>, x <span class="op">=</span> <span class="va">lim_x</span> <span class="op">+</span> <span class="fl">1000</span>, y <span class="op">=</span> <span class="va">lim_x</span> <span class="op">*</span> <span class="fl">.10</span>,
             color<span class="op">=</span><span class="st">"grey30"</span>, size <span class="op">=</span> <span class="va">tx</span> <span class="op">*</span> <span class="fl">.3</span>, alpha <span class="op">=</span> <span class="fl">.6</span>, hjust <span class="op">=</span> <span class="fl">0</span>, lineheight <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, label <span class="op">=</span> <span class="st">"15% CFR"</span>, x <span class="op">=</span> <span class="va">lim_x</span> <span class="op">+</span> <span class="fl">1000</span>, y <span class="op">=</span> <span class="va">lim_x</span> <span class="op">*</span> <span class="fl">.15</span>,
             color<span class="op">=</span><span class="st">"grey30"</span>, size <span class="op">=</span> <span class="va">tx</span> <span class="op">*</span> <span class="fl">.3</span>, alpha <span class="op">=</span> <span class="fl">.6</span>, hjust <span class="op">=</span> <span class="fl">0</span>, lineheight <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_colour_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="va">cols</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">labs</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">Cases</span>, <span class="va">Deaths</span>, label <span class="op">=</span> <span class="va">Country</span><span class="op">)</span>,
              size <span class="op">=</span> <span class="va">tx</span> <span class="op">*</span> <span class="fl">.35</span>, hjust <span class="op">=</span> <span class="fl">0</span>, fontface <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Cases"</span>, 
         y <span class="op">=</span> <span class="st">"Deaths"</span><span class="op">)</span><span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>
      panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
      legend.position <span class="op">=</span> <span class="st">"none"</span>,
      plot.margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">margin</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span>,<span class="fl">5</span>,<span class="fl">5</span>,<span class="st">"mm"</span><span class="op">)</span>,
      axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="va">tx</span><span class="op">)</span>,
      axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="va">tx</span><span class="op">)</span>,
      axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="va">tx</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span>,
      axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="va">tx</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span>
    <span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="02-peer_revieuw_files/figure-html/unnamed-chunk-4-1.png" width="672"></div>
<p>After looking at the code and plotting the first figure I can conclude the following. The code supplied is beautifully made and with only a very small change in file location it runs perfectly. This is what one means with reproducible research data.
I score the code of this research paper a 5 out of 5 for ease of use and it does exactly what it is supposed to without noise in between.</p>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="example-analysis-c.-elegans-experiment.html"><span class="header-section-number">2</span> Example analysis C. Elegans experiment</a></div>
<div class="next"><a href="guerrilla-analytics.html"><span class="header-section-number">4</span> Guerrilla Analytics</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav"><li>
<a class="nav-link" href="#open-peer-review"><span class="header-section-number">3</span> Open Peer Review</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#teaching-anxiety-stress-and-resilience-during-the-covid-19-pandemic"><span class="header-section-number">3.0.1</span> Teaching anxiety, stress and resilience during the COVID-19 pandemic</a></li>
<li><a class="nav-link" href="#monitoring-trends-and-differences-in-covid-19-case-fatality-rates-using-decomposition-methods-contributions-of-age-structure-and-age-specific-fatality"><span class="header-section-number">3.0.2</span> Monitoring trends and differences in COVID-19 case-fatality rates using decomposition methods: Contributions of age structure and age-specific fatality</a></li>
</ul>
</li></ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/LunarEclipse112/lunareclipse.github.io/blob/master/02-peer_revieuw.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/LunarEclipse112/lunareclipse.github.io/edit/master/02-peer_revieuw.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Portfolio</strong>" was written by Lunar Eclipse. It was last built on 2022-06-02.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
